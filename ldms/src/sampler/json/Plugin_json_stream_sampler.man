.\" Manpage for slurm_sampler
.\" Contact ovis-help@ca.sandia.gov to correct errors or typos.
.TH man 7 "30 Sep 2019" "v4" "LDMSD Plugin JSON Stream ampler man page"


\""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""/
.SH NAME
Plugin_json_stream_sampler - man page for the LDMSD json_stream_sampler plugin


\""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""/
.SH SYNOPSIS

Within ldmsd_controller or a configuration file:

.SY config
.BR name=json_stream_sampler
.BI producer=PRODUCER
.BI instance=INSTANCE
.OP \fBcomponent_id=\fICOMP_ID\fR
.OP \fBstream=\fINAME\fR
.OP \fBuid=\fIUID\fR
.OP \fBgid=\fIGID\fR
.OP \fBperm=\fIPERM\fR
.OP \fBheap_szperm=\fIBYTES\fR
.YS


\""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""/
.SH DESCRIPTION

The \fBjson_stream_store\fR monitors JSON object data presented on the configured
stream name. JSON object data is encoded in LDMS Metric Sets as shown
in the following table:
.TS
tab(@) allobx;
l l l .
JSON Type @ Metric Type @ Notes
_
Integer @ S64 @
Float @ D64 @
Double Quoted String @ BYTE_ARRAY @ "a string"
Single Quoted String @ BYTE_ARRAY @ 'a string'
Dictionary @ RECORD @ { "name1" : 1, "name2" : 2, "name3" : 3 }
Nested Dictionary @ RECORD @ { "name1" : { . . . }, "name2" : 2, "name3" : 3 }.
List @ LIST @ [ 1, 2, 3.45 ]
List @ LIST @ [ { "name1" : 1, "name2" : 2, "name3" : 3.45 }, { ... } ]
.TE

.SH CONFIG OPTIONS

.TP
.BR name=json_stream_sampler
This must be json_stream_sampler (the name of the plugin).
.TP
.BI producer=\fINAME\fR
The \fINAME\fR of the data producer (e.g. hostname).
.TP
.BI instance=\fINAME\fR
The \fINAME\fR of the set produced by this plugin. This option is required.
.TP
.BI component_id=\FIINT\fR
An integer identifying the component (default: \fI0\fR).
.TP
.BI stream=\fINAME\fR
The name of the LDMSD stream to register for JSON object data.
.TP
.BI uid=\fIUID\fR
The user-id to assign to the metric set.
.TP
.BI gid=\fIGID\fR
The group-id to assign to the metric set.
.TP
.BI heap_sz=\fIBYTES\fR
The number of bytes to reserve for the metric set heap.
.TP


\""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""/
.SH BUGS
.PP
Not all JSON objects can be encoded as metric sets.

\""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""/
.SH EXAMPLES

Plugin configuration example:

.RS
.EX
load name=json_stream_sampler
config name=json_stream_sampler producer=${HOSTNAME} instance=${HOSTNAME}/slurm \\
       component_id=2 stream=darshan_data heap_sz=1024
start name=json_stream_sampler interval=1000000
.EE
.RE

.SH SEE ALSO
.nh
.BR ldmsd (8),
.BR ldmsd_controller (8),
